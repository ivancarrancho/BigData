2019-07-04T11:53:08.624+00:00 [INFO] main: /opt/couchbase/bin/cbft started (v0.6.0/5.5.0)
2019-07-04T11:53:08.625+00:00 [INFO] main: file descriptor limit current: 1048576 max: 1048576
2019-07-04T11:53:08.625+00:00 [INFO]   -authType="cbauth"
2019-07-04T11:53:08.625+00:00 [INFO]   -bindHttp="127.0.0.1:8094,0.0.0.0:8094"
2019-07-04T11:53:08.625+00:00 [INFO]   -bindHttps=""
2019-07-04T11:53:08.625+00:00 [INFO]   -cfgConnect="metakv"
2019-07-04T11:53:08.625+00:00 [INFO]   -container=""
2019-07-04T11:53:08.626+00:00 [INFO]   -dataDir="/opt/couchbase/var/lib/couchbase/data/@fts"
2019-07-04T11:53:08.626+00:00 [INFO]   -extras="127.0.0.1:8091"
2019-07-04T11:53:08.626+00:00 [INFO]   -help="false"
2019-07-04T11:53:08.626+00:00 [INFO]   -options="startCheckServer=skip,slowQueryLogTimeout=5s,defaultMaxPartitionsPerPIndex=171,bleveMaxResultWindow=10000,failoverAssignAllPrimaries=false,hideUI=true,cbaudit=false,ipv6=false,ftsMemoryQuota=262144000,maxReplicasAllowed=0,bucketTypesAllowed=membase,http2=false,vbuckets=1024"
2019-07-04T11:53:08.627+00:00 [INFO]   -register="wanted"
2019-07-04T11:53:08.627+00:00 [INFO]   -server="http://127.0.0.1:8091"
2019-07-04T11:53:08.627+00:00 [INFO]   -staticDir="static"
2019-07-04T11:53:08.627+00:00 [INFO]   -staticETag=""
2019-07-04T11:53:08.628+00:00 [INFO]   -tags="feed,janitor,pindex,queryer,cbauth_service"
2019-07-04T11:53:08.628+00:00 [INFO]   -tlsCertFile=""
2019-07-04T11:53:08.628+00:00 [INFO]   -tlsKeyFile=""
2019-07-04T11:53:08.628+00:00 [INFO]   -uuid="2a8ae539a5cab1af4159b9b57e0098ee"
2019-07-04T11:53:08.628+00:00 [INFO]   -version="false"
2019-07-04T11:53:08.629+00:00 [INFO]   -weight="1"
2019-07-04T11:53:08.629+00:00 [INFO]   GOMAXPROCS=2
2019-07-04T11:53:08.629+00:00 [INFO] main: registered bleve stores
2019-07-04T11:53:08.629+00:00 [INFO]   moss
2019-07-04T11:53:08.630+00:00 [INFO]   gtreap
2019-07-04T11:53:08.630+00:00 [INFO]   boltdb
2019-07-04T11:53:08.630+00:00 [INFO]   metrics
2019-07-04T11:53:08.630+00:00 [INFO]   goleveldb
2019-07-04T11:53:08.634+00:00 [INFO] main: curr dir: "/opt/couchbase/var/lib/couchbase"
2019-07-04T11:53:08.634+00:00 [INFO] main: data dir: "/opt/couchbase/var/lib/couchbase/data/@fts"
2019-07-04T11:53:08.644+00:00 [INFO] app_herder: memQuota: 262144000, appQuota: 262144000, indexQuota: 196608000, queryQuota: 235929600
2019-07-04T11:53:08.657+00:00 [INFO] manager: setting the nodeDefs implVersion to 5.5.0
2019-07-04T11:53:08.657+00:00 [INFO] cfg_metakv: Set, key: nodeDefs-known, cas: 1, split: true, nodeUUID: 2a8ae539a5cab1af4159b9b57e0098ee
2019-07-04T11:53:08.657+00:00 [INFO] cfg_metakv: Set split, key: nodeDefs-known, added: map[2a8ae539a5cab1af4159b9b57e0098ee:true], removed: map[], updated: map[]
2019-07-04T11:53:08.657+00:00 [INFO] cfg_metakv: Set split, key: nodeDefs-known, childPath: /fts/cbgt/cfg/nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee
2019-07-04T11:53:08.661+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:53:08.670+00:00 [INFO] manager: setting the nodeDefs implVersion to 5.5.0
2019-07-04T11:53:08.670+00:00 [INFO] cfg_metakv: Set, key: nodeDefs-wanted, cas: 3, split: true, nodeUUID: 2a8ae539a5cab1af4159b9b57e0098ee
2019-07-04T11:53:08.670+00:00 [INFO] cfg_metakv: Set split, key: nodeDefs-wanted, added: map[2a8ae539a5cab1af4159b9b57e0098ee:true], removed: map[], updated: map[]
2019-07-04T11:53:08.670+00:00 [INFO] cfg_metakv: Set split, key: nodeDefs-wanted, childPath: /fts/cbgt/cfg/nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee
2019-07-04T11:53:08.697+00:00 [INFO] manager: loading dataDir...
2019-07-04T11:53:08.706+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:53:08.709+00:00 [INFO] manager: loading dataDir... done
2019-07-04T11:53:08.709+00:00 [INFO] main: custom jsoniter json implementation enabled
2019-07-04T11:53:08.709+00:00 [INFO] janitor: awakes, op: kick, msg: start
2019-07-04T11:53:08.715+00:00 [INFO] main: ctl starting, dryRun: false, waitForMemberNodes: 30, verbose: 3, maxConcurrentPartitionMovesPerNode: 1
2019-07-04T11:53:08.729+00:00 [WARN] janitor: JanitorOnce, err: janitor: skipped on nil planPIndexes -- cbgt.(*Manager).JanitorLoop() at manager_janitor.go:97
2019-07-04T11:53:08.771+00:00 [INFO] ctl: kickIndexDefs, kind: init
2019-07-04T11:53:08.777+00:00 [INFO] planner: nodesRemove: []string(nil)
2019-07-04T11:53:08.777+00:00 [INFO] planner: step planner
2019-07-04T11:53:08.782+00:00 [INFO] cfg_metakv: Set, key: version, cas: 1, split: false, nodeUUID: 2a8ae539a5cab1af4159b9b57e0098ee
2019-07-04T11:53:08.782+00:00 [INFO] cfg_metakv: Set path: /fts/cbgt/cfg/version
2019-07-04T11:53:08.786+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:53:08.788+00:00 [INFO] version: CheckVersion, Cfg version updated 5.5.0
2019-07-04T11:53:08.792+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/version, key: version, deletion: false
2019-07-04T11:53:08.797+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:53:08.797+00:00 [INFO] janitor: awakes, op: kick, msg: cfg changed, key: nodeDefs-wanted
2019-07-04T11:53:08.799+00:00 [INFO] ctl: kickIndexDefs, kind: cfgEvent
2019-07-04T11:53:08.814+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:53:08.814+00:00 [INFO] init_http: web UI / REST API is available (via 0.0.0.0): http://127.0.0.1:8094
2019-07-04T11:53:08.814+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:53:08.815+00:00 [INFO] main: cbauth_service registering...
2019-07-04T11:53:08.815+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:53:08.815+00:00 [INFO] init_http: web UI / REST API is available: http://0.0.0.0:8094
2019-07-04T11:53:08.815+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:53:08.816+00:00 [INFO] init_http: Setting up a http limit listener over "0.0.0.0:8094"
2019-07-04T11:53:08.827+00:00 [INFO] ctl/manager: GetTaskList, haveTasksRev: , changed, rv: &{Rev:[48] Tasks:[]}
2019-07-04T11:53:08.830+00:00 [INFO] ctl/manager: GetCurrentTopology, haveTopologyRev: , changed, rv: &{Rev:[50] Nodes:[2a8ae539a5cab1af4159b9b57e0098ee] IsBalanced:true Messages:[]}
2019-07-04T11:53:08.837+00:00 [WARN] janitor: JanitorOnce, err: janitor: skipped on nil planPIndexes -- cbgt.(*Manager).JanitorLoop() at manager_janitor.go:97
2019-07-04T11:53:08.855+00:00 [INFO] ctl: run, kind: nodeDefs-wanted, updated memberNodes: [{UUID:2a8ae539a5cab1af4159b9b57e0098ee ServiceURL:http://127.0.0.1:8094 ManagerURL:http://{"features":"leanPlan,indexType:scorch,indexType:upside_down","nsHostPort":"127.0.0.1:8091","version-cbft.app":"v0.6.0","version-cbft.lib":"v0.5.5"}}]
2019-07-04T11:53:09.446+00:00 [INFO] ctl/manager: GetNodeInfo
2019-07-04T11:53:09.453+00:00 [INFO] ctl/manager: PrepareTopologyChange, change: {a26baa76d960a25d7b4208c90c32121e [] topology-change-rebalance [{{2a8ae539a5cab1af4159b9b57e0098ee 0 <nil>} recovery-full}] []}
2019-07-04T11:53:09.457+00:00 [INFO] ctl/manager: PrepareTopologyChange, done
2019-07-04T11:53:09.457+00:00 [INFO] ctl/manager: GetTaskList, haveTasksRev: 0, changed, rv: &{Rev:[50] Tasks:[{Rev:[49] ID:prepare:a26baa76d960a25d7b4208c90c32121e Type:task-prepared Status:task-running IsCancelable:true Progress:100 DetailedProgress:map[] Description:prepare topology change ErrorMessage: Extra:map[topologyChange:{ID:a26baa76d960a25d7b4208c90c32121e CurrentTopologyRev:[] Type:topology-change-rebalance KeepNodes:[{NodeInfo:{NodeID:2a8ae539a5cab1af4159b9b57e0098ee Priority:0 Opaque:<nil>} RecoveryType:recovery-full}] EjectNodes:[]}]}]}
2019-07-04T11:53:09.465+00:00 [INFO] ctl/manager: StartTopologyChange, change: {a26baa76d960a25d7b4208c90c32121e [] topology-change-rebalance [{{2a8ae539a5cab1af4159b9b57e0098ee 0 <nil>} recovery-full}] []}
2019-07-04T11:53:09.465+00:00 [INFO] ctl: waitForWantedNodes, wantedNodes: [2a8ae539a5cab1af4159b9b57e0098ee]
2019-07-04T11:53:09.471+00:00 [INFO] ctl: getMovingPartitionsCount: 0
2019-07-04T11:53:09.471+00:00 [INFO] ctl/manager: StartTopologyChange, started
2019-07-04T11:53:09.471+00:00 [INFO] ctl/manager: GetTaskList, haveTasksRev: 2, changed, rv: &{Rev:[52] Tasks:[{Rev:[51] ID:rebalance:a26baa76d960a25d7b4208c90c32121e Type:task-rebalance Status:task-running IsCancelable:true Progress:0 DetailedProgress:map[] Description:topology change ErrorMessage: Extra:map[topologyChange:{ID:a26baa76d960a25d7b4208c90c32121e CurrentTopologyRev:[] Type:topology-change-rebalance KeepNodes:[{NodeInfo:{NodeID:2a8ae539a5cab1af4159b9b57e0098ee Priority:0 Opaque:<nil>} RecoveryType:recovery-full}] EjectNodes:[]}]}]}
2019-07-04T11:53:09.481+00:00 [INFO] ctl: waitForWantedNodes, wantedNodes: [2a8ae539a5cab1af4159b9b57e0098ee]
2019-07-04T11:53:09.483+00:00 [INFO] ctl: waitForWantedNodes, nodesToRemove: []
2019-07-04T11:53:09.488+00:00 [INFO] planner: nodesRemove: []string{}
2019-07-04T11:53:09.488+00:00 [INFO] planner: step unregister
2019-07-04T11:53:09.490+00:00 [INFO] planner: step planner
2019-07-04T11:53:09.534+00:00 [INFO] ctl/manager: GetTaskList, haveTasksRev: 4, changed, rv: &{Rev:[53] Tasks:[]}
2019-07-04T11:56:05.037+00:00 [INFO] main: /opt/couchbase/bin/cbft started (v0.6.0/5.5.0)
2019-07-04T11:56:05.038+00:00 [INFO] main: file descriptor limit current: 1048576 max: 1048576
2019-07-04T11:56:05.052+00:00 [INFO]   -authType="cbauth"
2019-07-04T11:56:05.070+00:00 [INFO]   -bindHttp="127.0.0.1:8094,0.0.0.0:8094"
2019-07-04T11:56:05.085+00:00 [INFO]   -bindHttps=""
2019-07-04T11:56:05.085+00:00 [INFO]   -cfgConnect="metakv"
2019-07-04T11:56:05.085+00:00 [INFO]   -container=""
2019-07-04T11:56:05.085+00:00 [INFO]   -dataDir="/opt/couchbase/var/lib/couchbase/data/@fts"
2019-07-04T11:56:05.085+00:00 [INFO]   -extras="127.0.0.1:8091"
2019-07-04T11:56:05.085+00:00 [INFO]   -help="false"
2019-07-04T11:56:05.085+00:00 [INFO]   -options="startCheckServer=skip,slowQueryLogTimeout=5s,defaultMaxPartitionsPerPIndex=171,bleveMaxResultWindow=10000,failoverAssignAllPrimaries=false,hideUI=true,cbaudit=false,ipv6=false,ftsMemoryQuota=262144000,maxReplicasAllowed=0,bucketTypesAllowed=membase,http2=false,vbuckets=1024"
2019-07-04T11:56:05.085+00:00 [INFO]   -register="wanted"
2019-07-04T11:56:05.085+00:00 [INFO]   -server="http://127.0.0.1:8091"
2019-07-04T11:56:05.085+00:00 [INFO]   -staticDir="static"
2019-07-04T11:56:05.086+00:00 [INFO]   -staticETag=""
2019-07-04T11:56:05.086+00:00 [INFO]   -tags="feed,janitor,pindex,queryer,cbauth_service"
2019-07-04T11:56:05.086+00:00 [INFO]   -tlsCertFile=""
2019-07-04T11:56:05.086+00:00 [INFO]   -tlsKeyFile=""
2019-07-04T11:56:05.086+00:00 [INFO]   -uuid="2a8ae539a5cab1af4159b9b57e0098ee"
2019-07-04T11:56:05.088+00:00 [INFO]   -version="false"
2019-07-04T11:56:05.088+00:00 [INFO]   -weight="1"
2019-07-04T11:56:05.088+00:00 [INFO]   GOMAXPROCS=2
2019-07-04T11:56:05.088+00:00 [INFO] main: registered bleve stores
2019-07-04T11:56:05.089+00:00 [INFO]   moss
2019-07-04T11:56:05.089+00:00 [INFO]   gtreap
2019-07-04T11:56:05.089+00:00 [INFO]   boltdb
2019-07-04T11:56:05.089+00:00 [INFO]   metrics
2019-07-04T11:56:05.089+00:00 [INFO]   goleveldb
2019-07-04T11:56:05.150+00:00 [INFO] main: curr dir: "/opt/couchbase/var/lib/couchbase"
2019-07-04T11:56:05.150+00:00 [INFO] main: data dir: "/opt/couchbase/var/lib/couchbase/data/@fts"
2019-07-04T11:56:05.193+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:56:05.193+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:56:05.193+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/version, key: version, deletion: false
2019-07-04T11:56:05.193+00:00 [INFO] app_herder: memQuota: 262144000, appQuota: 262144000, indexQuota: 196608000, queryQuota: 235929600
2019-07-04T11:56:05.241+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:56:05.253+00:00 [INFO] manager: loading dataDir...
2019-07-04T11:56:05.258+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:56:05.260+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/version, key: version, deletion: false
2019-07-04T11:56:05.264+00:00 [INFO] manager: loading dataDir... done
2019-07-04T11:56:05.264+00:00 [INFO] main: custom jsoniter json implementation enabled
2019-07-04T11:56:05.288+00:00 [INFO] main: ctl starting, dryRun: false, waitForMemberNodes: 30, verbose: 3, maxConcurrentPartitionMovesPerNode: 1
2019-07-04T11:56:05.285+00:00 [INFO] janitor: awakes, op: kick, msg: start
2019-07-04T11:56:05.468+00:00 [WARN] janitor: JanitorOnce, err: janitor: skipped on nil planPIndexes -- cbgt.(*Manager).JanitorLoop() at manager_janitor.go:97
2019-07-04T11:56:05.560+00:00 [INFO] ctl: kickIndexDefs, kind: init
2019-07-04T11:56:05.578+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-known/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:56:05.602+00:00 [INFO] planner: nodesRemove: []string(nil)
2019-07-04T11:56:05.602+00:00 [INFO] planner: step planner
2019-07-04T11:56:05.613+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, key: nodeDefs-wanted/2a8ae539a5cab1af4159b9b57e0098ee, deletion: false
2019-07-04T11:56:05.725+00:00 [INFO] janitor: awakes, op: kick, msg: cfg changed, key: nodeDefs-wanted
2019-07-04T11:56:05.726+00:00 [INFO] ctl: kickIndexDefs, kind: cfgEvent
2019-07-04T11:56:05.725+00:00 [INFO] cfg_metakv: metaKVCallback, path: /fts/cbgt/cfg/version, key: version, deletion: false
2019-07-04T11:56:05.830+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:56:05.830+00:00 [INFO] init_http: web UI / REST API is available (via 0.0.0.0): http://127.0.0.1:8094
2019-07-04T11:56:05.830+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:56:05.833+00:00 [INFO] main: cbauth_service registering...
2019-07-04T11:56:05.833+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:56:05.833+00:00 [INFO] init_http: web UI / REST API is available: http://0.0.0.0:8094
2019-07-04T11:56:05.834+00:00 [INFO] main: ------------------------------------------------------
2019-07-04T11:56:05.854+00:00 [INFO] init_http: Setting up a http limit listener over "0.0.0.0:8094"
2019-07-04T11:56:05.893+00:00 [INFO] ctl/manager: GetTaskList, haveTasksRev: , changed, rv: &{Rev:[48] Tasks:[]}
2019-07-04T11:56:05.897+00:00 [INFO] ctl/manager: GetCurrentTopology, haveTopologyRev: , changed, rv: &{Rev:[50] Nodes:[2a8ae539a5cab1af4159b9b57e0098ee] IsBalanced:true Messages:[]}
2019-07-04T11:56:06.075+00:00 [INFO] ctl: run, kind: nodeDefs-wanted, updated memberNodes: [{UUID:2a8ae539a5cab1af4159b9b57e0098ee ServiceURL:http://127.0.0.1:8094 ManagerURL:http://{"features":"leanPlan,indexType:scorch,indexType:upside_down","nsHostPort":"127.0.0.1:8091","version-cbft.app":"v0.6.0","version-cbft.lib":"v0.5.5"}}]
2019-07-04T11:56:06.106+00:00 [WARN] janitor: JanitorOnce, err: janitor: skipped on nil planPIndexes -- cbgt.(*Manager).JanitorLoop() at manager_janitor.go:97
